#!/bin/bash
# GENERATED BY CHEZMOI - Health check for {{ .chezmoi.hostname }}
set -e

ROLE="{{ .role }}"
OSID="{{ .osid }}"

echo "üîç System Integrity Check: $ROLE on $OSID"
echo "------------------------------------------"

check_path() {
    if [ -e "$1" ]; then
        echo "‚úÖ [FOUND] $1"
    else
        echo "‚ùå [MISSING] $1"
    fi
}

# --- 1. Base Essentials ---
check_path "$HOME/.zshrc"
check_path "$HOME/.local/bin/maintain"

# --- 2. GUI Specifics ---
{{ if or (eq .role "desktop") (eq .role "laptop") -}}
check_path "$HOME/.config/ghostty/config"
check_path "$HOME/.config/starship.toml"
{{- else -}}
echo "‚ÑπÔ∏è  Skipping GUI checks (Headless Role)"
{{- end }}

# --- 3. Arch/Omarchy Specifics ---
{{ if eq .osid "arch" -}}
check_path "$HOME/.config/hypr/hyprland.conf"
check_path "$HOME/.config/waybar/config.jsonc"
{{- end }}

# --- 4. WSL Logic ---
{{ if .is_wsl -}}
check_path "$HOME/.config/windows-terminal/settings.json"
{{- end }}

echo "------------------------------------------"
